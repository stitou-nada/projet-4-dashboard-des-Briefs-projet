<!DOCTYPE html>
<html lang="en">
<head>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"> -->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js"> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.1.3/axios.min.js" integrity="sha512-0qU9M9jfqPw6FKkPafM3gy2CBAvUWnYVOfNPDYKVuRTel1PrciTj+a9P3loJB+j0QmN2Y0JYQmkBBS8W+mbezg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <title>index</title>
</head>
<div id="root"></div>
<body>
    <script type="text/babel">
        class Tache extends React.Component{
            state={
                nom:"",
                showData:[],
                data:[]
                
            }
            componentDidMount(){
                axios.get("http://127.0.0.1:8000/api/tache")
                    .then(response=>{                        
                        this.setState({
                        data:response.value
                    })
                    })
                    console.log(this.state)
                }

            handleClick =(btn)=>{
                btn.preventDefault()
                this.setState({
                    showNom:this.state.nom
                })
                // console.log(this.state)
            }
            handleChange= (e)=>{
                this.setState({
                      nom:e.target.value
                })
                // console.log(e.target.value)
            }
            render(){
                return(
                    <div>
                     <form >
                       Entrer le nom :
                       <input type="text" onChange={this.handleChange} ></input> 
                       <button onClick={this.handleClick} >Click</button>
                        
                    </form> 
                      <table className="table">
                        <thead>
                            <tr>
                            <th>id</th>
                            <th>Nom</th>
                            <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            {this.state.data.map((value)=>(
                                    <tr>
                                        <td>{value.id}</td>
                                        <td>{value.Nom}</td>
                                        <td>
                                              <button className="btn btn-danger">Suprimer</button>
                                        </td>
                                        </tr>
                                        )
                                    )}
                                </tbody>
                               
                      </table>
                    </div>
                )
            }
         }
         ReactDOM.render(<Tache />,document.getElementById('root'));
         
    </script>
</body>
</html>